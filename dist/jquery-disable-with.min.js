$(document).ready(function(){$("*[data-disable-with]").each(function(){var t=$(this),a=t.is("button"),i=t.attr("data-disable-with"),e="";e=a?t.html():t.val();var n=t.parents().filter("form").first();n&&n.length<1?console.warn("The disable-with control needs to be put in a form."):(n.on("submit",function(){t.attr("disabled","disabled"),a?t.html(i):t.val(i)}),n.bind("invalid-form.validate",function(){setTimeout(function(){t.removeAttr("disabled"),a?t.html(e):t.val(e)},1)}))})});